import{_ as r,X as n,Y as o,Z as e,$ as a,a0 as t,a1 as s,D as i}from"./framework-ac1910cc.js";const c={},l=e("h1",{id:"在wsl2中安装pytorch的注意事项",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#在wsl2中安装pytorch的注意事项","aria-hidden":"true"},"#"),a(" 在wsl2中安装pytorch的注意事项")],-1),u=e("h2",{id:"wslg-与wsl-安装",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#wslg-与wsl-安装","aria-hidden":"true"},"#"),a(" wslg 与wsl 安装")],-1),p={href:"https://github.com/microsoft/wslg",target:"_blank",rel:"noopener noreferrer"},h=s(`<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wsl --update
wsl --shutdown
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="在wsl中安装cuda工具包" tabindex="-1"><a class="header-anchor" href="#在wsl中安装cuda工具包" aria-hidden="true">#</a> 在wsl中安装cuda工具包</h2>`,2),g={href:"https://developer.nvidia.com/cuda-11-7-1-download-archive?target_os=Linux&target_arch=x86_64&Distribution=WSL-Ubuntu&target_version=2.0&target_type=deb_local",target:"_blank",rel:"noopener noreferrer"},v=s(`<p>此处需要格外注意，<strong>官网给出的命令顺序有误</strong>。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wget https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/cuda-wsl-ubuntu.pinsudo 
mv cuda-wsl-ubuntu.pin /etc/apt/preferences.d/cuda-repository-pin-600
wget https://developer.download.nvidia.com/compute/cuda/11.7.1/local_installers/cuda-repo-wsl-ubuntu-11-7-local_11.7.1-1_amd64.deb
sudo dpkg -i cuda-repo-wsl-ubuntu-11-7-local_11.7.1-1_amd64.deb
sudo cp /var/cuda-repo-wsl-ubuntu-11-7-local/cuda-*-keyring.gpg /usr/share/keyrings/
sudo apt-get updatesudo apt-get -y install cuda
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>直接运行第四行<code>sudo dpkg -i cuda-repo-wsl-ubuntu-11-7-local_11.7.1-1_amd64.deb</code>会报错：</p><div class="language-The line-numbers-mode" data-ext="The"><pre class="language-The"><code>To install the key, run this command:
sudo cp /var/cuda-repo-wsl-ubuntu-11-7-local/cuda-96193861-keyring.gpg /usr/share/keyrings/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>此处的cuda-96193861-keyring.gpg可能和实际文件名称不符，应先运行第五行安装密钥：</p><p><code>sudo cp /var/cuda-repo-wsl-ubuntu-11-7-local/cuda-*-keyring.gpg /usr/share/keyrings/</code></p><p>再运行第四行即可。</p><h2 id="安装pytorch" tabindex="-1"><a class="header-anchor" href="#安装pytorch" aria-hidden="true">#</a> 安装pytorch</h2><p><code>pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118</code></p>`,9);function _(m,b){const d=i("ExternalLinkIcon");return n(),o("div",null,[l,u,e("p",null,[a("在wsl中运行像PyTorch这样的深度学习框架的关键是WSLg扩展。此扩展允许 WSL2 使用你的 GPU。这适用于英特尔，AMD和Nvidia GPU。它仍处于预览状态，因此可能包含错误。 "),e("a",p,[a("https://github.com/microsoft/wslg"),t(d)])]),h,e("p",null,[e("a",g,[a("https://developer.nvidia.com/cuda-11-7-1-download-archive?target_os=Linux&target_arch=x86_64&Distribution=WSL-Ubuntu&target_version=2.0&target_type=deb_local"),t(d)])]),v])}const x=r(c,[["render",_],["__file","在wsl2中安装pytorch.html.vue"]]);export{x as default};
